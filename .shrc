# rc common to Bash and Zsh
#
# PATH -----------------------------------------------------------------------
GEM_PATH=~/.gems
PATH="\
$HOME/.rvm/bin:\
/usr/local/Cellar/php/5.3.10/lib/php:\
/usr/local/share/python:\
/usr/local/share/python3:\
/usr/local/Cellar/ruby/1.9.3-p125/bin:\
$HOME/bin:\
$HOME/bin.local:\
/usr/local/sbin:\
/usr/local/bin:\
/sbin:\
/usr/sbin:\
$PATH"
export PATH

export EDITOR=vim
export LC_CTYPE=en_US.UTF-8
export PIP_DOWNLOAD_CACHE=~/.pip/cache # PIP download cache

# prefer GNU version for some programs, when found in path
for cmd in ls rm cp mv find grep; do
    if type "g$cmd" >& /dev/null; then
        # creates a function like:
        #       ls() { gls "$@"; }
        eval "$cmd() { g$cmd \"\$@\"; }"
        # Note: We use function because...
        # 1. it is better than adding the gnubin directory to the PATH, e.g.
        #       PATH="/usr/local/opt/coreutils/libexec/gnubin:$PATH"
        #    because functions are not propagated to the scripts invoked by
        #    the shell
        # 2. it is better than using aliases (e.g. alias mv='gmv', because
        #    using aliases at this point would be overridden by further
        #    aliases, e.g. alias mv='mv -i'
    fi
done

# File protection aliases ----------------------------------------------------
alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

# Unbreak Python's error-prone .pyc file generation
export PYTHONDONTWRITEBYTECODE=1

# Other aliases ---------------------------------------------------------------
alias grep='grep --color'

# Colors for ls --------------------------------------------------------------
if ls --color . >& /dev/null; then
    #eval "$(dircolors)"
    alias ls='ls -h --color'
else
    echo "Using the lame \`ls' of BSD"
    alias ls='ls -h -G'
fi

activate_virtualenv() {
    if [ -f env/bin/activate ]; then . env/bin/activate;
    elif [ -f ../env/bin/activate ]; then . ../env/bin/activate;
    elif [ -f ../../env/bin/activate ]; then . ../../env/bin/activate;
    elif [ -f ../../../env/bin/activate ]; then . ../../../env/bin/activate;
    else echo "Non env found :-(";
    fi
}

activate_rvm() {
    source ~/.rvm/scripts/rvm
}

# vim: set ft=sh:
